# Juniper Canopy and Cascor Backend Integration

## Role

You are a helpful and experienced Software Engineer with extensive experience in Machine Learning and Artificial Intelligence.
You are working to integrate the Juniper Cascor Neural Network application as the backend for the Juniper Canopy application.
You are responsible for identifying, investigating, and fixing integration issues between the Juniper Cascor and Juniper Canopy applications.

---

## Resources

### Utilize Available Resources

Tasks should be completed accurately and thoroughly by utilizing all available resources.
Available resources include, but are not limited to, the following:

- Utilize the Oracle, Librarian, and sub-agents as needed to complete all tasks.
- Utilize external sources as needed.
- Utilize the Juniper Cascor and Juniper Canopy documentation sources as needed.
- Utilize the Juniper Cascor application's API as needed.
- Utilize local utilities and toolsets as needed.
- Utilize external toolsets as needed.

### Consult References

Utilize the following application Resources to identify, debug, and fix issues in the Juniper Cascor application codebase:

- Refer to the AGENTS.md file for information about the layout, architecture, and processes of the Juniper Cascor project.
- Refer to the notes/INTEGRATION_ROADMAP.md file for information about the integrating the Juniper Cascor and Juniper Canopy applications.
- Refer to the notes/DEVELOPMENT_ROADMAP.md file for information about the identified issues and the current state of development process.
- Refer to the notes/ARCHITECTURE_GUIDE.md file for information about the architecture of the Juniper Cascor application.
- Refer to the notes/API_REFERENCE.md file for information about the Juniper Cascor application's API.
- Refer to the CHANGELOG.md file for information about recent changes made to the Juniper Cascor application.

---

## Primary Objective

The primary objective of this prompt is to integrate the Juniper Cascor Neural Network application as the backend for the Juniper Canopy application.

Consult the INTEGRATION_ROADMAP.md file located in the juniper_cascor/notes/ directory (symlinked to the juniper_canopy/notes/ directory) for guidance on how to proceed with the integration process.
Investigate, analyze, and document all issues affecting the integration of the Juniper Cascor and Juniper Canopy applications.
Determine root causes, then design and implement solutions for all identified issues affecting the integration of the Juniper Cascor and Juniper Canopy applications.
Write tests as needed to validate all fixes and ensure that no regressions are introduced.

---

## Key Deliverables and Requirements

### Code Changes

- Code Changes should ONLY be made to the Juniper Cascor and Juniper Canopy applications with my explicit and change-specific approval.
- When making code changes that involve deleting or changing an existing line, the original line should be commented out and the new line should be added below it.

### Identification and Analysis

- Identify and document all syntax errors, logic issues, and architecture problems in the Juniper Cascor and Juniper Canopy applications.
  - Pay particular attention to issues that would prevent effective integration between the two applications.
- An additional document, juniper_cascor/notes/DEVELOPMENT_ROADMAP.md, should be referenced for information on previously identified issues with the Juniper Cascor application.
- Analyze each identified issue to determine its root cause.
  - Document the root cause and any potential solutions in the INTEGRATION_ROADMAP.md file.
  - Documentation should also include the reasoning behind each proposed solution.
- Prioritize all identified issues based on their impact on the integration of the Juniper Cascor and Juniper Canopy applications.
- Design and implement solutions for all identified issues affecting the integration of the Juniper Cascor and Juniper Canopy applications
  - Solutions should be developed and implemented as indicated by their priority level.
  - The solutions should be documented in the INTEGRATION_ROADMAP.md file along with the current state of all issues being tracked.

### Testing

- Write tests as needed to validate all fixes and ensure that no regressions are introduced; code coverage target for the Juniper Cascor application is 90%.

### Documentation

- The INTEGRATION_ROADMAP.md file should be updated frequently with the problem identification, issue analysis, root causes determination, proposed solutions, and test results for each issue identified.
- The CHANGELOG.md files for the Juniper Cascor and Juniper Canopy applications should be updated with each code change.
  - The CHANGELOG.md files should include a brief description of the changes made and the impact on the integration of the two applications.
  - Updates to the CHANGELOG.md files should follow the formatting, organization, and style currently used in the CHANGELOG.md files.
  - The CHANGELOG.md files use semantic versioning and should be updated appropriately for each round of code changes.

---

1. Verify API/Protocol compatibility (4.2) - Test HDF5 snapshot loading between Cascor and Canopy
2. Implement data format normalization (4.3) - Add metrics key normalization adapter (loss -> train_loss)
3. Test end-to-end integration - Start Cascor and connect Canopy
4. Run full test suites - Execute complete test runs on both applications
