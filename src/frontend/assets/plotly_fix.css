/*
 * Project:       Juniper Canopy
 * File Name:     plotly_fix.css
 * Author:        Paul Calnon
 * Version:       1.0.0
 * Created:       2025-11-16
 * Modified:      2025-12-04
 *
 * Description:   CSS overrides to ensure Plotly graphs render correctly
 *                Prevents global CSS from interfering with Plotly's SVG/canvas rendering
 */

/* Ensure Plotly graphs are always visible and have proper rendering */
.js-plotly-plot {
    /* Ensure container has height */
    min-height: 300px;
}

.js-plotly-plot svg,
.js-plotly-plot canvas {
    /* Force visibility - override any global hide rules */
    opacity: 1 !important;
    visibility: visible !important;
}

.js-plotly-plot .main-svg {
    /* Ensure SVG rendering area is visible */
    opacity: 1 !important;
    visibility: visible !important;
}

/* Ensure all plot traces are visible */
.js-plotly-plot .scatterlayer path,
.js-plotly-plot .barlayer path,
.js-plotly-plot .shapelayer path,
.js-plotly-plot .contourlayer path {
    stroke-opacity: 1 !important;
    fill-opacity: 1 !important;
}

/* WebGL canvas rendering */
.js-plotly-plot .gl-container canvas {
    opacity: 1 !important;
    filter: none !important;
    visibility: visible !important;
}

/* Prevent global transition rules from affecting Plotly */
.js-plotly-plot,
.js-plotly-plot *,
.js-plotly-plot svg,
.js-plotly-plot svg *,
.js-plotly-plot canvas {
    transition: none !important;
}

/* Ensure plot legends and labels are visible */
.js-plotly-plot .legend,
.js-plotly-plot .infolayer {
    opacity: 1 !important;
    visibility: visible !important;
}

/* Fix for tabs - ensure graphs reflow when tabs become visible */
.tab-pane {
    min-height: 400px;
}

.tab-pane.active .js-plotly-plot {
    visibility: visible !important;
    display: block !important;
}
